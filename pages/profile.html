<div class="profile-container">
    <div class="profile-content-wrapper">
        <!-- Cover Image -->
        <div class="profile-cover">
            <img id="profile-cover-img" src="assets/gradients/orb-1.png" alt="Cover Image">
        </div>

        <!-- Header Section -->
        <header class="profile-header">
            <div class="profile-avatar-container">
                <div class="profile-avatar-wrapper">
                    <img id="profile-avatar" src="assets/default-avatar.png" alt="Profile Picture">
                </div>
            </div>
            
            <div class="profile-info-container">
                <div class="profile-name-row">
                    <div class="profile-title-col">
                        <h1 class="profile-username-header" id="profile-username-header">username</h1>
                        <div id="profile-fullname" class="profile-fullname-label">Display Name</div>
                    </div>
                    <div class="profile-actions" id="profile-action-btn">
                        <!-- All buttons (Edit/Follow, Message/Settings, More) will be rendered here dynamically -->
                    </div>
                </div>
                
                <div class="profile-bio-section">
                    <div id="profile-bio-text" class="profile-bio-text"></div>
                </div>

                <div class="profile-details-section">
                    <div class="profile-detail-item" id="profile-detail-phone-wrapper" style="display: none;">
                        <i data-lucide="phone"></i>
                        <span id="profile-detail-phone"></span>
                    </div>
                    <div class="profile-detail-item" id="profile-detail-address-wrapper" style="display: none;">
                        <i data-lucide="map-pin"></i>
                        <span id="profile-detail-address"></span>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Stats Block (Full Width) -->
        <ul class="profile-stats">
            <li><span class="stat-count" id="profile-posts-count">0</span> <span class="stat-label">posts</span></li>
            <li><span class="stat-count" id="profile-followers-count">0</span> <span class="stat-label">followers</span></li>
            <li><span class="stat-count" id="profile-following-count">0</span> <span class="stat-label">following</span></li>
        </ul>

        <!-- Highlights Placeholder (Demo Only) -->
        <div class="profile-highlights">
            <!-- Space for highlights -->
        </div>

        <!-- Content Tabs -->
        <div class="profile-tabs">
            <div class="profile-tab active" data-tab="posts">
                <i data-lucide="grid"></i>
                <span>Posts</span>
            </div>
            <div class="profile-tab" data-tab="saved">
                <i data-lucide="bookmark"></i>
                <span>Saved</span>
            </div>
            <div class="profile-tab" data-tab="tagged">
                <i data-lucide="user-square"></i>
                <span>Tagged</span>
            </div>
        </div>

        <!-- Posts Grid -->
        <div class="profile-posts-grid" id="profile-posts-grid"></div>

        <!-- Load More Loader -->
        <div id="profile-posts-loader" class="feed-loader" style="display: none;">
            <div class="loader-spinner"></div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="profile-modal-overlay" id="edit-profile-modal">
        <div class="profile-modal-content">
            <div class="profile-modal-header">
                <h3>Edit Profile</h3>
                <button class="profile-modal-close" onclick="closeEditProfile()"><i data-lucide="x"></i></button>
            </div>
            <div class="profile-modal-body">
                <div class="profile-photo-upload">
                    <img src="" id="edit-avatar-preview" class="profile-avatar-preview">
                    <div class="profile-form-group">
                        <label>Avatar</label>
                        <input type="file" id="edit-avatar-input" accept="image/*">
                    </div>
                </div>
                 <div class="profile-photo-upload">
                    <img src="" id="edit-cover-preview" class="profile-cover-preview">
                    <div class="profile-form-group">
                        <label>Cover Photo</label>
                        <input type="file" id="edit-cover-input" accept="image/*">
                    </div>
                </div>

                <div class="profile-form-group">
                    <label>Full Name</label>
                    <input type="text" id="edit-fullname">
                </div>
                <div class="profile-form-group">
                    <label>Bio</label>
                    <textarea id="edit-bio" rows="3"></textarea>
                </div>
                <div class="profile-form-group">
                    <label>Phone</label>
                    <input type="text" id="edit-phone">
                </div>
                <div class="profile-form-group">
                    <label>Address</label>
                    <input type="text" id="edit-address">
                </div>
                <div class="profile-form-group">
                    <label>Gender</label>
                    <select id="edit-gender">
                        <option value="true">Male</option>
                        <option value="false">Female</option>
                    </select>
                </div>
            </div>
            <div class="profile-modal-footer">
                <button class="profile-btn-secondary" onclick="closeEditProfile()">Cancel</button>
                <button class="profile-btn-primary" onclick="saveProfileChanges()">Save</button>
            </div>
        </div>
    </div>

    <!-- Privacy Settings Modal -->
    <div class="profile-modal-overlay" id="profile-settings-modal">
        <div class="profile-modal-content">
            <div class="profile-modal-header">
                <h3>Privacy Settings</h3>
                <button class="profile-modal-close" onclick="closeProfileSettings()"><i data-lucide="x"></i></button>
            </div>
            <div class="profile-modal-body">
                <div class="profile-privacy-section" style="border-top: none; padding-top: 0; margin-top: 0;">
                    <div class="profile-form-group-row">
                        <div class="form-group-item">
                            <label>Email Privacy</label>
                            <select id="setting-privacy-email">
                                <option value="0">Public</option>
                                <option value="1">Follow Only</option>
                                <option value="2">Private</option>
                            </select>
                        </div>
                        <div class="form-group-item">
                            <label>Phone Privacy</label>
                            <select id="setting-privacy-phone">
                                <option value="0">Public</option>
                                <option value="1">Follow Only</option>
                                <option value="2">Private</option>
                            </select>
                        </div>
                    </div>

                    <div class="profile-form-group-row">
                        <div class="form-group-item">
                            <label>Address Privacy</label>
                            <select id="setting-privacy-address">
                                <option value="0">Public</option>
                                <option value="1">Follow Only</option>
                                <option value="2">Private</option>
                            </select>
                        </div>
                        <div class="form-group-item">
                            <label>Default Post Privacy</label>
                            <select id="setting-privacy-post">
                                <option value="0">Public</option>
                                <option value="1">Follow Only</option>
                                <option value="2">Private</option>
                            </select>
                        </div>
                    </div>

                    <div class="profile-form-group-row">
                        <div class="form-group-item">
                            <label>Followers List</label>
                            <select id="setting-privacy-followers">
                                <option value="0">Public</option>
                                <option value="1">Follow Only</option>
                                <option value="2">Private</option>
                            </select>
                        </div>
                        <div class="form-group-item">
                            <label>Following List</label>
                            <select id="setting-privacy-following">
                                <option value="0">Public</option>
                                <option value="1">Follow Only</option>
                                <option value="2">Private</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="profile-modal-footer">
                <button class="profile-btn-secondary" onclick="closeProfileSettings()">Cancel</button>
                <button class="profile-btn-primary" onclick="saveProfileSettings()">Save Settings</button>
            </div>
        </div>
    </div>
</div>
