# Project Rules for MiniSocialNetwork

## Communication Style
- **LANGUAGE REQUIREMENT**: ALWAYS communicate with the user in **Vietnamese** (Tiếng Việt).
- This applies to all responses, explanations, and questions.

## Backend Modification Policy

**CRITICAL:** Backend code requires explicit approval before ANY modifications.

### Rules:
1. **READ ONLY by default** - All `.cs` files in `e:\PersonalProject\SocialNetwork\MiniSocialNetwork\`
2. **MUST ASK** before:
   - Modifying Controllers, Services, Repositories
   - Changing API endpoints
   - Updating Entity models
   - Adding/removing files
   - Database migrations

3. **ALLOWED without asking:**
   - Reading/analyzing backend code
   - Explaining how backend works
   - Suggesting improvements (but don't implement)

### Workflow for Backend Changes:
```
Step 1: Analyze and propose: "I see we could add X to CommentsController. Should I?"
Step 2: Wait for explicit approval: "OK, do it" / "No, keep it as is"
Step 3: Only then make changes
```

### Frontend:
- ✅ Free to modify (proactive fixes allowed)
- ⚠️ Unless user explicitly says otherwise

## Realtime & SignalR Policy
- **FOLDER REQUIREMENT**: All code related to SignalR/Realtime functionality MUST be located in `js/realtime/`.
- **ISOLATION REQUIREMENT**: SignalR features must be implemented as "Experimental" or "Optional". The application MUST remain fully functional even if the entire `js/realtime/` folder is deleted or if the SignalR scripts are removed from `index.html`.
- **IMPLEMENTATION GUIDELINE**: Always use defensive checks (e.g., `if (window.PostHub)`) before calling any realtime functions from other parts of the application.

## Commit Message Policy
All commit messages must follow this format:
`type(scope): description`

- **Type**: Must be one of `feat`, `fix`, `refactor`, `docs`, `style`, `test`, `chore`.
- **Scope**: The name of the feature or module affected (e.g., `post-detail`, `comments`, `auth`).
- **Description**: A concise summary of changes since the last commit. Not too long, not too short.
- **NO BE/FE PREFIX**: Do NOT include tags like `backend` or `frontend` (e.g., `feat(backend): ...`) in the commit message. Since the repositories for Backend and Frontend are already separate, this distinction is redundant.

**Examples:**
- `feat(post-detail): add edited status indicator to post detail view`
- `fix(comments): fix input reset issue on modal close`

## Git Workflow Policy
- **WAIT FOR APPROVAL**: Do NOT automatically create commits. Use the `git commit` command ONLY when explicitly requested by the user.
- **SUGGESTION**: You may suggest that a commit is ready and provide the proposed commit message, but wait for user confirmation before executing it.

## Code Inheritance and Safety
- **INHERITANCE PRIORITY**: New features and code must prioritize inheriting existing functions, CSS variables, and utility classes to maintain consistency.
- **ZERO SIDE EFFECTS**: Modifications or newly added code MUST NOT break or negatively affect any existing legacy functionality. Always ensure backward compatibility and use isolated styles if necessary.

## Lucide Icon Styling
- **TAG REQUIREMENT**: When styling Lucide icons (`data-lucide`), you MUST apply CSS rules to both the `i` tag (initial placeholder) and the `svg` tag (rendered element).
- **PURPOSE**: This ensures consistent coloring, sizing, and stroke-width before and after Lucide re-renders the icons.
- **EXAMPLE**: `.btn i, .btn svg { color: blue; }`
